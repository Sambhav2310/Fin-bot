<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Finance Intelligence</title>
  <style>
    :root {
      --bg: #0b0f1a;
      --panel: #12182b;
      --muted: #8b93b3;
      --text: #e6e9ff;
      --accent: #6aa6ff;
      --risk-high: #ff6b6b;
      --risk-mod: #ffb020;
      --risk-low: #3ddc97;
      --listening: #3ddc97;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; background: var(--bg); color: var(--text);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.45;
    }
    header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 16px 20px; border-bottom: 1px solid #1f2550;
      letter-spacing: .04em; font-size: 12px; color: var(--muted);
    }
    header .title { color: var(--text); font-weight: 600; }
    main { max-width: 1200px; margin: 0 auto; padding: 24px; }
    .command {
      background: linear-gradient(180deg, #12182b, #0e1430);
      border: 1px solid #1f2550; border-radius: 12px;
      padding: 28px; text-align: center; margin-bottom: 20px;
    }
    .command .prompt { font-size: 20px; letter-spacing: .02em; }
    .command .sub { color: var(--muted); margin-top: 6px; }
    .command.listening { box-shadow: 0 0 0 1px var(--listening), 0 0 18px rgba(61,220,151,.35); }
    .command.processing { box-shadow: 0 0 0 1px var(--accent), 0 0 18px rgba(106,166,255,.35); }
    .pulse {
      display: inline-block; width: 8px; height: 8px; margin-left: 8px;
      border-radius: 50%; background: var(--listening);
      animation: pulse 1.2s infinite;
    }
    @keyframes pulse {
      0% { opacity: .4; transform: scale(.9); }
      50% { opacity: 1; transform: scale(1.2); }
      100% { opacity: .4; transform: scale(.9); }
    }
    .grid { display: grid; grid-template-columns: 1.2fr .8fr; gap: 16px; }
    .panel {
      background: var(--panel); border: 1px solid #1f2550; border-radius: 14px; padding: 20px;
    }
    .panel h3 { margin: 0 0 12px 0; letter-spacing: .06em; font-size: 12px; color: var(--muted); }
    .kpis { display: grid; grid-template-columns: 1fr 1fr; gap: 10px 20px; }
    .kpis .k { color: var(--muted); }
    .kpis .v { text-align: right; font-weight: 600; }
    .insight { margin-top: 14px; color: #dbe1ff; }
    .risk { margin-top: 10px; font-weight: 600; letter-spacing: .06em; font-size: 12px; }
    .risk.high { color: var(--risk-high); }
    .risk.mod { color: var(--risk-mod); }
    .risk.low { color: var(--risk-low); }
    footer { color: var(--muted); font-size: 11px; margin-top: 10px; }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <header>
    <div class="title">FINANCE INTELLIGENCE</div>
    <div>BT | APR–SEP 2025 | Live</div>
  </header>

  <main>
    <section class="command">
      <div class="prompt">Speak a command</div>
      <div class="sub" id="listenState">Ready</div>
    </section>

    <section class="grid">
      <div class="panel" id="leftPanel">
        <h3 id="panelTitle">REVENUE PERFORMANCE — APR–SEP 2025</h3>
        <div class="kpis" id="kpis"></div>
        <div class="insight" id="insight"></div>
        <div class="risk" id="risk"></div>
        <footer id="footer">Last updated: Sep 2025</footer>
      </div>
      <div class="panel" id="rightPanel">
        <h3>SUPPORTED COMMANDS</h3>
        <div class="insight">
          Revenue performance<br/>Revenue quality<br/>Unbilled exposure<br/>Salary pressure<br/>Profitability outlook<br/>What needs attention
        </div>
      </div>
    </section>
  </main>

  <script>
  // ===== DATA =====
  const DATA = {
    revenue: {
      target: 80000000,
      achieved: 22600000,
      achievementPct: 28.25,
      balance: 57400000,
      reqRunRate: 9566667
    },
    quality: { accruedAchieved: 26131500 },
    unbilled: { total: 3531500, concentration: 'Few high-value retainers' },
    salary: {
      disbursed: 12000000,
      ratio: 53.10,
      profit: 15.93,
      targetProfit: 40.01
    }
  };

  // ===== HELPERS =====
  const kpisEl = document.getElementById('kpis');
  const insightEl = document.getElementById('insight');
  const riskEl = document.getElementById('risk');
  const titleEl = document.getElementById('panelTitle');
  const cmdBox = document.querySelector('.command');
  const listenState = document.getElementById('listenState');

  function money(v) { return '₹' + (v / 10000000).toFixed(2) + ' Cr'; }
  function lakhs(v) { return '₹' + (v / 100000).toFixed(0) + ' L'; }

  function setRisk(level) {
    riskEl.className = 'risk ' + level;
    riskEl.textContent = 'RISK LEVEL: ' + level.toUpperCase();
  }

  function renderKPIs(items) {
    kpisEl.innerHTML = '';
    items.forEach(([k, v]) => {
      kpisEl.innerHTML += `<div class="k">${k}</div><div class="v">${v}</div>`;
    });
  }

  function speak(text) {
    const u = new SpeechSynthesisUtterance(text);
    const voices = speechSynthesis.getVoices();
    const preferred =
      voices.find(v => /Google|Natural|Neural/i.test(v.name)) ||
      voices.find(v => v.lang === 'en-US') ||
      voices[0];
    if (preferred) u.voice = preferred;
    u.rate = 0.95;
    u.lang = 'en-US';
    speechSynthesis.cancel();
    speechSynthesis.speak(u);
  }

  // ===== VIEWS =====
  function revenue() {
    titleEl.textContent = 'REVENUE PERFORMANCE — APR–SEP 2025';
    renderKPIs([
      ['Net Target (6 months)', money(DATA.revenue.target)],
      ['Achieved', money(DATA.revenue.achieved)],
      ['Achievement', DATA.revenue.achievementPct + '%'],
      ['Balance to Close', money(DATA.revenue.balance)],
      ['Required Monthly Run Rate', lakhs(DATA.revenue.reqRunRate)]
    ]);
    insightEl.textContent =
      'Revenue performance is materially behind plan. Achieving the six-month target will require accelerated billing.';
    setRisk('high');
    speak('Revenue performance is materially behind plan and requires accelerated billing.');
  }

  function quality() {
    titleEl.textContent = 'REVENUE QUALITY';
    renderKPIs([
      ['Reported Revenue', money(DATA.revenue.achieved)],
      ['Accrued Achieved', money(DATA.quality.accruedAchieved)]
    ]);
    insightEl.textContent =
      'A portion of achieved revenue is accrual driven and includes unbilled components.';
    setRisk('mod');
    speak('A portion of achieved revenue is accrual driven and includes unbilled components.');
  }

  function unbilled() {
    titleEl.textContent = 'UNBILLED EXPOSURE — AS OF SEP 2025';
    renderKPIs([
      ['Total Unbilled', money(DATA.unbilled.total)],
      ['Concentration', DATA.unbilled.concentration]
    ]);
    insightEl.textContent =
      'Unbilled exposure remains elevated and concentrated.';
    setRisk('mod');
    speak('Unbilled exposure remains elevated and concentrated.');
  }

  function salary() {
    titleEl.textContent = 'COST & PROFITABILITY';
    renderKPIs([
      ['Salary Disbursed', money(DATA.salary.disbursed)],
      ['Salary to Revenue Ratio', DATA.salary.ratio + '%'],
      ['Actual Profit Margin', DATA.salary.profit + '%'],
      ['Targeted Margin', DATA.salary.targetProfit + '%']
    ]);
    insightEl.textContent =
      'Salary costs are high relative to revenue, exerting pressure on profitability.';
    setRisk('high');
    speak('Salary costs are high relative to revenue and exert pressure on profitability.');
  }

  function profitability() { salary(); }

  function attention() {
    titleEl.textContent = 'EXECUTIVE SUMMARY';
    renderKPIs([]);
    insightEl.textContent =
      'Immediate attention is required on accelerating revenue closure and reducing unbilled exposure.';
    setRisk('high');
    speak('Immediate attention is required on accelerating revenue closure and reducing unbilled exposure.');
  }

  // ===== COMMAND ROUTER =====
  function routeCommand(text) {
    const t = text.toLowerCase().trim();
    if (t.includes('what needs attention') || t.includes('needs attention')) return attention();
    if (t.includes('revenue performance') || t.includes('revenue')) return revenue();
    if (t.includes('revenue quality')) return quality();
    if (t.includes('unbilled')) return unbilled();
    if (t.includes('salary')) return salary();
    if (t.includes('profit')) return profitability();
  }

  // ===== VOICE ENGINE =====
  const SpeechRecognition =
    window.SpeechRecognition || window.webkitSpeechRecognition;
  const recog = SpeechRecognition ? new SpeechRecognition() : null;

  if (recog) {
    recog.continuous = true;
    recog.lang = 'en-US';

    recog.onstart = () => {
      cmdBox.classList.add('listening');
      listenState.innerHTML = 'Listening<span class="pulse"></span>';
    };

    recog.onresult = e => {
      cmdBox.classList.remove('listening');
      cmdBox.classList.add('processing');
      listenState.textContent = 'Processing…';
      routeCommand(e.results[e.results.length - 1][0].transcript);
    };

    recog.onend = () => {
      cmdBox.classList.remove('processing');
      listenState.textContent = 'Ready';
      setTimeout(() => recog.start(), 300);
    };

    recog.start();
  } else {
    listenState.textContent = 'Voice not supported in this browser.';
  }

  // Default view
  revenue();
</script>

</body>
</html>




